use cs332;

drop table if exists available_cars;
drop table if exists renter;
drop table if exists owner;
drop table if exists users;
drop table if exists cars;



create table cars (
   car_id INT AUTO_INCREMENT PRIMARY KEY,
   model VARCHAR(20) NOT NULL,
   make VARCHAR(20) NOT NULL,
   year YEAR NOT NULL,
   seats INT NOT NULL,
   mileage INT NOT NULL,
   rating FLOAT(2,1),
   description VARCHAR(20)
);


create table users (
	username VARCHAR(20) PRIMARY KEY UNIQUE,
    	type VARCHAR(6) NOT NULL,
	password VARCHAR(255) NOT NULL
);


create table owner (
   owner_id INT AUTO_INCREMENT PRIMARY KEY,
   name VARCHAR(20) NOT NULL,
   rating FLOAT(2,1),
   age INT NOT NULL,
   username VARCHAR(20) NOT NULL UNIQUE
);
alter table owner add FOREIGN KEY(username) references users(username);


create table renter (
   renter_id INT AUTO_INCREMENT PRIMARY KEY,
   name VARCHAR(20) NOT NULL,
   rating FLOAT(2,1) NOT NULL,
   age INT NOT NULL,
   username VARCHAR(20) NOT NULL UNIQUE
);
alter table renter add FOREIGN KEY(username) references users(username);


create table available_cars (
   availability_id INT AUTO_INCREMENT PRIMARY KEY,
   username VARCHAR(20) NOT NULL,
   car_id INT NOT NULL,
   startRental DATE NOT NULL,
   endRental DATE NOT NULL,
   location VARCHAR(20) NOT NULL
);
alter table available_cars add FOREIGN KEY(username) references owner(username);
alter table available_cars add FOREIGN KEY(car_id) references cars(car_id);


# User data
insert into users(username, type, password) values("oHuckle", "owner", "asdfasdfasfdasfsafsfs");
insert into users(username, type, password) values("pRyan", "renter", "asdfasdfasfdasfsafsfs");
insert into users(username, type, password) values("kShrader", "owner", "asdfasdfasfdasfsafsfs");
insert into users(username, type, password) values("rJohnson", "owner", "asdfasdfasfdasfsafsfs");
insert into users(username, type, password) values("graller10", "owner", "asdfasdfasfdasfsafsfs");
insert into users(username, type, password) values("billyboy52", "owner", "asdfasdfasfdasfsafsfs");


# Car data
insert into cars(model, make, year, seats, mileage, rating, description) values("Golf GTI", "Volkswagon", 2011, 2, 28, 4.5, "Little thing whips" );
insert into cars(model, make, year, seats, mileage, rating, description) values("CRV", "Honda", 2002, 5, 26, 3, "Great snow control" );
insert into cars(model, make, year, seats, mileage, rating, description) values("Corolla", "Toyota", 2011, 2, 32, 4.5, "great mpg" );
insert into cars(model, make, year, seats, mileage, rating, description) values("Civic", "Honda", 2002, 5, 35, 5, "Best I evah had" );
insert into cars(model, make, year, seats, mileage, rating, description) values("Rav 4", "Toyota", 2016, 5, 28, 4.5, "Quite spacious" );
insert into cars(model, make, year, seats, mileage, rating, description) values("G6", "Pontiac", 2010, 3, 26, 3, "So fly" );
insert into cars(model, make, year, seats, mileage, rating, description) values("Accord", "Honda", 2011, 5, 28, 4.5, "Not as good as Civic" );
insert into cars(model, make, year, seats, mileage, rating, description) values("CRV", "Honda", 2012, 5, 26, 3, "Newer model is better" );
insert into cars(model, make, year, seats, mileage, rating, description) values("Golf GTI", "Volkswagon", 2012, 5, 28, 4.5, "Little thing whips more" );
insert into cars(model, make, year, seats, mileage, rating, description) values("Civic", "Honda", 2014, 8, 26, 3, "Stylish" );
insert into cars(model, make, year, seats, mileage, rating, description) values("CRV", "Honda", 2011, 7, 28, 4.5, "Little thing whips" );
insert into cars(model, make, year, seats, mileage, rating, description) values("CRV", "Honda", 2015, 5, 33, 3, "MPG overhaul" );

# Owner data
insert into owner(name, rating, age, username) values("Officer Huckle", 5, 35, "oHuckle");
insert into owner(name, rating, age, username) values("Petty Officer Ryan", 5, 22, "pRyan");
insert into owner(name, rating, age, username) values("Kathy Shrader", 3, 31, "kShrader");

# Renter data
insert into renter(name, rating, age) values("Ron Johnson", 5, 25);
insert into renter(name, rating, age) values("Ryan Graller", 5, 22);
insert into renter(name, rating, age) values("Shredder", 0.5, 40);

# Available car data
insert into available_cars(username, car_id, startRental, endRental, location) values("oHuckle",1, NOW(), DATE_ADD(NOW(),INTERVAL 14 DAY), "Canton, NY");
insert into available_cars(username, car_id, startRental, endRental, location) values("oHuckle",2, NOW(), DATE_ADD(NOW(),INTERVAL 1 DAY), "Canton, NY");
insert into available_cars(username, car_id, startRental, endRental, location) values("oHuckle",3, NOW(), DATE_ADD(NOW(),INTERVAL 13 DAY), "Canton, NY");
insert into available_cars(username, car_id, startRental, endRental, location) values("oHuckle",4, NOW(), DATE_ADD(NOW(),INTERVAL 11 DAY), "Canton, NY");
insert into available_cars(username, car_id, startRental, endRental, location) values("oHuckle",5, NOW(), DATE_ADD(NOW(),INTERVAL 7 DAY), "Canton, NY");
insert into available_cars(username, car_id, startRental, endRental, location) values("oHuckle",6, NOW(), DATE_ADD(NOW(),INTERVAL 3 DAY), "Canton, NY");
insert into available_cars(username, car_id, startRental, endRental, location) values("oHuckle",7, NOW(), DATE_ADD(NOW(),INTERVAL 5 DAY), "Canton, NY");
insert into available_cars(username, car_id, startRental, endRental, location) values("oHuckle",8, NOW(), DATE_ADD(NOW(),INTERVAL 6 DAY), "Canton, NY");
insert into available_cars(username, car_id, startRental, endRental, location) values("oHuckle",9, NOW(), DATE_ADD(NOW(),INTERVAL 7 DAY), "Canton, NY");
insert into available_cars(username, car_id, startRental, endRental, location) values("oHuckle",10, NOW(), DATE_ADD(NOW(),INTERVAL 7 DAY), "Canton, NY");
insert into available_cars(username, car_id, startRental, endRental, location) values("oHuckle",11, NOW(), DATE_ADD(NOW(),INTERVAL 9 DAY), "Canton, NY");
insert into available_cars(username, car_id, startRental, endRental, location) values("oHuckle",12, NOW(), DATE_ADD(NOW(),INTERVAL 10 DAY), "Canton, NY");

